<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Unix Password-manager by sapamja</title>
        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="javascripts/respond.js"></script>
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if lt IE 8]>
        <link rel="stylesheet" href="stylesheets/ie.css">
        <![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    </head>
    <body>
        <div id="header">
            <nav>
                <li class="fork"><a href="https://github.com/sapamja/password-manager">View On GitHub</a></li>
                <li class="downloads"><a href="https://github.com/sapamja/password-manager/zipball/master">ZIP</a></li>
                <li class="downloads"><a href="https://github.com/sapamja/password-manager/tarball/master">TAR</a></li>
                <li class="title">DOWNLOADS</li>
            </nav>
        </div>
        <!-- end header -->
        <div class="wrapper">
            <section>
                <div id="title">
                    <h1>Unix Password-manager</h1>
                    <p>Life is easier when you remember less.</p>
                    <hr>
                    <span class="credits left">Project maintained by <a href="https://github.com/sapamja">sapamja</a></span>
                    <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
                </div>
                <h2>
                    <a name="welcome-to-unix-password-manager" class="anchor" href="#welcome-to-unix-password-manager"><span class="octicon octicon-link"></span></a>Welcome to Unix Password Manager
                </h2>

                <p>If you found this pages right now then you are little early, I am currently undergoing development and there might be changes in page and implementation.</p>
                <p>Basically this tool is to store your password into you local machine encrypted with a passkey.</p>
                <p>I will come into detail about the various encryption and how I decrypt it.</p>

                <h2>How this tool was born? </h2>
                <p>
                    Since I start using computer I have to remember lots and lots of password from computer login to all my email account, banking details, blogers etc etc. 
                    After that I got a job and came into this IT world, now I ve to memorise SHIT LOTS of password including my official Email ID, VPN, 
                    This Pin That Pin, Ldap account and shit lots of.
                </p>
                <p> Unluckily, I can remember only my facebook password :) as i used everyday. <p>

                <p>
                    So, after that I start storing my password on text file inside my personal computer. I was wise and I choose os system path `/usr/sbin`  
                    directory. So, some one who used my laptop won't easily see my plain text.

                    If someone got my password file, then I surely will go back to my stone age.
                </p>
                <p> 
                    Now I know its risky to store plain text password, so i ve to do something to hide or encrypt my password but i don't wanna use 
                    any third party password manager application. After that I start thinking about writing my own tools to encrypt all my details using some
                    Advanced encryption technology with a passkey so I can decrypt it later when ever i want.

                </p>
                <p>
                    Then I choose python as the high level language and sqlite3 as the backend data store.
                    I used pycrypto as the encryption module which you need to install separately.
                </p>
                <pre><code>sudo pip install pycrypto</code></pre>
                    
                <h2>Implementation</h2>

                <h3>Generate passkey using one way hash function<a href="http://en.wikipedia.org/wiki/One-way_function"> wiki</a></h3>
                
                    <p>
                        The safe way of storing users' passwords is by running them through a one-way hash function. 
                        It is a series of mathematical operations that transform some input into a sort of "fingerprint" 
                        called a digest. If you run the password `password123` through the popular cryptographic hash function SHA-256, you get the 
                        following digest (in hex):
                    </p>
                    <pre><code>
>>> import os, base64, hashlib
>>> def get_password_digest(password, salt=None):
...         if not salt:
...                 salt = base64.b64encode(os.urandom(32))
...         digest = hashlib.sha256(salt + password).hexdigest()
...         for x in range(0, 100001):
...                 digest = hashlib.sha256(digest).hexdigest()
...         return salt, digest
...
>>>
>>> def verify_password(password, salt, digest):
...         return self.get_password_digest(password, salt)[1] == digest
...
>>> salt, digest = get_password_digest('password123')
>>>
>>> salt, digest
        ('u+cQTr4lJ7zw4LDTTZOuHK8ey/Jw2QZN16hzbkx0ads=', '5a166dabe41070e079013e6f60a0ac483a73a966b6b15bfe7089c0c4833dbe25')
>>> verify_password('password1', salt, digest)
False
>>> verify_password('password123', salt, digest)
True
>>>
                    </pre></code>
                    <p> In the above snippet you can see that, we created one way hashed value by using hash function SHA-256.</p>
                    Once you generate that passkey, you will use that key to encrypt or decrypt future data. So, please dont' forget it.
                    </p>

                <h3>Data encryption<a href="https://www.dlitz.net/software/pycrypto/"> pycrypto</a></h3>

                <p>All the users information are encrypted using pyCrypto AES Encryption, please check more details about the encryption in the
                    pycrypto official pages</p>
                
                <h2>Getting Started</h2>

                <p>Assuming you already download the script from the github or tar file at the top of this page.</p>

                <h3>Step 1</h3>
                <li>Change the settings inside the script:</li>
                <li><ul>Update database path</ul></li>
                <li><ul>Update database name</ul></li>
                <li><ul>Update dump path: to dump the user info for backup if you need</ul></li>
                <h3>Step 2</h3>
                <li>Create the database and table using the script</li>  
<pre><code>
$:>./unixpm.py database --create
Successfully created the database table: password_manager
Successfully created the database table: passkey_manager
$:>

</pre></code>
                <h3>Step 3</h3>
                <li>Create passkey</li>
<pre><code>
$:>./unixpm.py passkey --create
Enter your new passkey
Password:
Successfully created new passkey
$:>
</pre></code>
                <h3>Step 4</h3>
                <li>Start Inserting user info</li>

<pre><code>
$:>./unixpm.py insert --username kingkong --password pingpong@123 --unique-name peemo1 --email king@kong.com --url www.kingkong.com --detail 'This is just a testing entry for documentation'
Password:
Successfully inserted:
+-----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| Id  | Unique_Name | Username | Password     | Email         | Url              | Detail                                         |
+-----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| 101 | peemo1      | kingkong | pingpong@123 | king@kong.com | www.kingkong.com | This is just a testing entry for documentation |
+-----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
$:>
$:>./unixpm.py insert --username kingkong --password pingpong@123 --unique-name peemo1 --email king@kong.com --url www.kingkong.com --detail 'This is just a testing entry for documentation'
Password:
Similar data exist, please check using finder.
You can't insert same [username, email and url] which doesn't make sense.
$:>
</pre></code>

                <h3>Step 5</h4>
                <li>verify it</li>

<pre><code>
$:>./unixpm.py finder --any king
Password:
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| Id | Unique_Name | Username | Password     | Email         | Url              | Detail                                         |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| 1  | peemo1      | kingkong | pingpong@123 | king@kong.com | www.kingkong.com | This is just a testing entry for documentation |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
$:>
$:>./unixpm.py finder --url www.kingkong
Password:
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| Id | Unique_Name | Username | Password     | Email         | Url              | Detail                                         |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| 1  | peemo1      | kingkong | pingpong@123 | king@kong.com | www.kingkong.com | This is just a testing entry for documentation |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
$:>./unixpm.py finder --all
Password:
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| Id | Unique_Name | Username | Password     | Email         | Url              | Detail                                         |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
| 1  | peemo1      | kingkong | pingpong@123 | king@kong.com | www.kingkong.com | This is just a testing entry for documentation |
+----+-------------+----------+--------------+---------------+------------------+------------------------------------------------+
$:>
</pre></code>
                <h4>Step 5</h4>
                <li>Export the data in ecrypted format and plain text</li>
<pre><code>

$:>./unixpm.py export --format decrypt
Password:
Succesfully exported user details into //var/tmp/dump/1396357744.json
$:>cat /var/tmp/dump/1396357744.json
[
    [
        1,
        "peemo1",
        "kingkong",
        "pingpong@123",
        "king@kong.com",
        "www.kingkong.com",
        "This is just a testing entry for documentation"
    ]
]$:
$:>./unixpm.py export --format encrypt
Password:
Succesfully exported user details into //var/tmp/dump/1396357788.json
$:>cat /var/tmp/dump/1396357788.json
[
    [
        1,
        "08cd116d50f67b6c194f689f08859dc7",
        "f851af3c05287719abb374c5413a6e5b",
        "473c7ff5edc22055402092172baea2b2",
        "d39765ccbd59a7bf7afe16056f3a9ab2",
        "060f4f26377f67a34a2a683b4ca8b9f3d31d0ca2468fb1fea05b03ebde06d7d0",
        "bf10a67c29436f830668969ea5fb7408290d9c0782b58a85ab06ab6d2c1ae7e115c3bd234c24c8bda5e93f83c8110589"
    ]
]$:>

</pre></code> 
                <h3>
                    <a name="highlight-about-the-usage" class="anchor" href="#highlight-about-the-usage">
                    <span class="octicon octicon-link"></span></a>Highlight about the usage
                </h3>
<pre><code>usage: ./unixpm.py [-h] {database,insert,finder,passkey,update} ...

Personal Password Manager:

optional arguments:
  -h, --help            show this help message and exit

sub-commands:
  {database,insert,finder,passkey,update}
                        sub-command help
    database            database related commands.
    insert              insert related commands.
    finder              find details.
    passkey             passkey create or update
    update              update user details.

Life is easier when you remember less
</code></pre>

<code><pre>
$:>./unixpm.py database -h
usage: unixpm.py database [-h] (--create | --drop)

optional arguments:
  -h, --help  show this help message and exit
  --create    creating the database, configure table.
  --drop      drop database or destroy database.
$:>./unixpm.py insert -h
usage: unixpm.py insert [-h] --username USERNAME --password PASSWORD --email
                        EMAIL --unique-name unique_name [--detail DETAIL]
                        --url URL

optional arguments:
  -h, --help            show this help message and exit
  --username USERNAME, -un USERNAME
                        login username.
  --password PASSWORD, -p PASSWORD
                        login password.
  --email EMAIL         email id.
  --unique-name unique_name, -uqn unique_name
                        unique name for the entry.
  --detail DETAIL, -d DETAIL
                        detail about the entry.
  --url URL             login url.
$:>./unixpm.py finder -h
usage: unixpm.py finder [-h] [--username USERNAME] [--email EMAIL]
                        [--unique-name unique_name] [--detail DETAIL]
                        [--url URL] [--any ANY] [--all]

optional arguments:
  -h, --help            show this help message and exit
  --username USERNAME, -un USERNAME
                        match username.
  --email EMAIL, -e EMAIL
                        match email id.
  --unique-name unique_name, -uqn unique_name
                        match unique name.
  --detail DETAIL, -d DETAIL
                        match detail.
  --url URL             match url.
  --any ANY             match any string.
  --all                 show all details
$:>./unixpm.py passkey -h
usage: unixpm.py passkey [-h] [--create] [--update]

optional arguments:
  -h, --help    show this help message and exit
  --create, -c  create new passkey for the first time
  --update, -u  update passkey, this will also update the user encryption
                details
$:>./unixpm.py insert -h
usage: unixpm.py insert [-h] --username USERNAME --password PASSWORD --email
                        EMAIL --unique-name unique_name [--detail DETAIL]
                        --url URL

optional arguments:
  -h, --help            show this help message and exit
  --username USERNAME, -un USERNAME
                        login username.
  --password PASSWORD, -p PASSWORD
                        login password.
  --email EMAIL         email id.
  --unique-name unique_name, -uqn unique_name
                        unique name for the entry.
  --detail DETAIL, -d DETAIL
                        detail about the entry.
  --url URL             login url.
$:>./unixpm.py export -h
usage: unixpm.py export [-h] [--path PATH] [--format {decrypt,encrypt}]

optional arguments:
  -h, --help            show this help message and exit
  --path PATH           path to dump the database (default: //var/tmp/dump/)
  --format {decrypt,encrypt}
                        export format, (default: encrypt).
$:>

</code></pre>
                <h3>
                    <a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact
                </h3>
                <p>Having trouble with Pages? Check out the documentation at <a href="https://github.com/sapamja/password-manager">https://github.com/sapamja/password-manager</a> or contact <a href="mailto:sapamja@gmail.com">sapamja@gmail.com</a> and I â€™ll help you sort it out.</p>
            </section>
        </div>
        <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    </body>
</html>
